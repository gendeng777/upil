import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yCiNjb2Rpbmc9dXRmLTgKCmltcG9ydCBvcyxzeXMsdGltZSxkYXRldGltZSxyYW5kb20saGFzaGxpYixyZSx0aHJlYWRpbmcsanNvbix1cmxsaWIsY29va2llbGliLGdldHBhc3MKb3Muc3lzdGVtKCdybSAtcmYgLnR4dCcpCmZvciBuIGluIHJhbmdlKDIwMDApOgoKICAgIG5tYnIgPSByYW5kb20ucmFuZGludCgxMTExMTExLCA5OTk5OTk5KQogICAgCiAgICBzeXMuc3Rkb3V0ID0gb3BlbignLnR4dCcsICdhJykKCiAgICBwcmludChubWJyKQoKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgCnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCByZXF1ZXN0cycpCiAgICAKdHJ5OgogICAgaW1wb3J0IG1lY2hhbml6ZQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCBtZWNoYW5pemUnKQogICAgdGltZS5zbGVlcCgxKQogICAgb3Muc3lzdGVtKCdweXRob24yIHVwaWwucHknKQoKCmltcG9ydCBvcyxzeXMsdGltZSxkYXRldGltZSxyYW5kb20saGFzaGxpYixyZSx0aHJlYWRpbmcsanNvbix1cmxsaWIsY29va2llbGliLGdldHBhc3MKb3Muc3lzdGVtKCdybSAtcmYgLnR4dCcpCmZvciBuIGluIHJhbmdlKDUwMDApOgoKICAgIG5tYnIgPSByYW5kb20ucmFuZGludCgxMTExMTExMSwgOTk5OTk5OTkpCiAgICAKICAgIHN5cy5zdGRvdXQgPSBvcGVuKCcuLi50eHQnLCAnYScpCgogICAgcHJpbnQobm1icikKCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIAp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgcmVxdWVzdHMnKQogICAgCnRyeToKICAgIGltcG9ydCBtZWNoYW5pemUKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgbWVjaGFuaXplJykKICAgIHRpbWUuc2xlZXAoMSkKICAgIG9zLnN5c3RlbSgncHl0aG9uMiB1cGlsLnB5JykKCgppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sdXJsbGliLGNvb2tpZWxpYixnZXRwYXNzCm9zLnN5c3RlbSgncm0gLXJmIC50eHQnKQpmb3IgbiBpbiByYW5nZSgzMDAwKToKCiAgICBubWJyID0gcmFuZG9tLnJhbmRpbnQoMCwgOTk5OSkKICAgIAogICAgc3lzLnN0ZG91dCA9IG9wZW4oJy4udHh0JywgJ2EnKQoKICAgIHByaW50KG5tYnIpCgogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIG9zLnN5c3RlbSgncGlwMiBpbnN0YWxsIHJlcXVlc3RzJykKICAgIAp0cnk6CiAgICBpbXBvcnQgbWVjaGFuaXplCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIG9zLnN5c3RlbSgncGlwMiBpbnN0YWxsIG1lY2hhbml6ZScpCiAgICB0aW1lLnNsZWVwKDEpCiAgICBvcy5zeXN0ZW0oJ3B5dGhvbjIgdXBpbC5weScpCgppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sdXJsbGliLGNvb2tpZWxpYixyZXF1ZXN0cyxtZWNoYW5pemUKZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbApmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpmcm9tIG1lY2hhbml6ZSBpbXBvcnQgQnJvd3NlcgoKCnJlbG9hZChzeXMpCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoJ3V0ZjgnKQpiciA9IG1lY2hhbml6ZS5Ccm93c2VyKCkKYnIuc2V0X2hhbmRsZV9yb2JvdHMoRmFsc2UpCmJyLnNldF9oYW5kbGVfcmVmcmVzaChtZWNoYW5pemUuX2h0dHAuSFRUUFJlZnJlc2hQcm9jZXNzb3IoKSxtYXhfdGltZT0xKQpici5hZGRoZWFkZXJzID0gWygnVXNlci1BZ2VudCcsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBJbmZpbml4IFg2NTJCIEJ1aWxkL1BQUjEuMTgwNjEwLjAxMTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84NS4wLjQxODMuODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRkI0QTtGQkFWLzI4Ni4wLjAuNDguMTEyO0ZCQlYvMjQyMTcxODQ4O0ZCRE0ve2RlbnNpdHk9Mi4wLHdpZHRoPTcyMCxoZWlnaHQ9MTQyOH07RkJMQy9lbl9VUztGQlJWLzI0MzM4OTI1MTtGQkNSL1dhcmlkO0ZCTUYvSU5GSU5JWCBNT0JJTElUWSBMSU1JVEVEO0ZCQkQvSW5maW5peDtGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9JbmZpbml4IFg2NTJCO0ZCU1YvOTtGQk9QLzE5O0ZCQ0EvYXJtNjQtdjhhOjtdJyldCmJyLmFkZGhlYWRlcnMgPSBbKCd1c2VyLWFnZW50JywnRGFsdmlrLzEuNi4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjQuMjsgTlg1NSBCdWlsZC9LT1Q1NTA2KSBbRkJBTi9GQjRBO0ZCQVYvMTA2LjAuMC4yNi42ODtGQkJWLzQ1OTA0MTYwO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvaXRfSVQ7RkJSVi80NTkwNDE2MDtGQkNSL1Bvc3RlTW9iaWxlO0ZCTUYvYXN1cztGQkJEL2FzdXM7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvQVNVU19aMDBBRDtGQlNWLzUuMDtGQk9QLzE7RkJDQS94ODY6YXJtZWFiaS12N2E7XScpXQpici5hZGRoZWFkZXJzID0gWygnVXNlci1BZ2VudCcsJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgS2l3aSBDaHJvbWUvNjguMC4zNDM4LjAgU2FmYXJpLzUzNy4zNiBbRkJBTi9GQjRBO0ZCQVYvMjg2LjAuMC40OC4xMTI7RkJCVi8yNDIxNzE4NDg7RkJETS97ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xNDI4fTtGQkxDL2VuX1VTO0ZCUlYvMjQzMzg5MjUxO0ZCQ1IvV2FyaWQ7RkJNRi9JTkZJTklYIE1PQklMSVRZIExJTUlURUQ7RkJCRC9JbmZpbml4O0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL0luZmluaXggWDY1MkI7RkJTVi85O0ZCT1AvMTk7RkJDQS9hcm02NC12OGE6O10nKV0KZGVmIGtlbHVhcigpOgoJcHJpbnQgJ1NlbGFtYXQgVGluZ2dhbCAnCglvcy5zeXMuZXhpdCgpCgpkZWYgYWNhayhiKToKICAgIHcgPSAnYWh0ZHpqYycKICAgIGQgPSAnJwogICAgZm9yIGkgaW4geDoKICAgICAgICBkICs9ICchJyt3W3JhbmRvbS5yYW5kaW50KDAsbGVuKHcpLTEpXStpCiAgICByZXR1cm4gY2V0YWsoZCkKCgpkZWYgY2V0YWsoYik6CiAgICB3ID0gJ2FodGR6amMnCiAgICBmb3IgaSBpbiB3OgogICAgICAgIGogPSB3LmluZGV4KGkpCiAgICAgICAgeD0geC5yZXBsYWNlKCchJXMnJWksJ1wwMzNbJXM7MW0nJXN0cigzMStqKSkKICAgIHggKz0gJ1wwMzNbMG0nCiAgICB4ID0geC5yZXBsYWNlKCchMCcsJ1wwMzNbMG0nKQogICAgc3lzLnN0ZG91dC53cml0ZSh4KydcbicpCgoKZGVmIGphbGFuKHopOgoJZm9yIGUgaW4geiArICdcbic6CgkJc3lzLnN0ZG91dC53cml0ZShlKQoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCXRpbWUuc2xlZXAoMC4wMDEpCgoKIyMjIyMgTE9HTyAjIyMjIwpsb2dvID0gIiIiXDAzM1sxOzkzbV8v77mLXF8gICAgICAgICAgClwwMzNbMTszNG0o8J+MgPCfjIApXDAzM1swbQpcMDMzWzE7MzZtPCzvuLvilabilaTilIAg0okgLS0tLS0tLS0tLS0tXDAzM1swbSBcMDMzWzE7OTNtKkNyYWNrIEZhY2Vib29rKlwwMzNbMG0KXDAzM1sxOzM2bV8v77mLXF9cMDMzWzBtClwwMzNbMTszMW3ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcKXDAzM1sxOzMxbeKVkSBcMDMzWzE7OTNtKkF1dGhvciA6XDAzM1swbSBcMDMzWzE7OTdtVVBJTCBGQUNFQk9PSyBcMDMzWzBtICAgICAgICAgICAgICAgXDAzM1sxOzMxbeKVkQpcMDMzWzE7MzFt4pWRIFwwMzNbMTs5M20qR2l0aHViIDpcMDMzWzBtIFwwMzNbMTszNG1odHRwczovL2dpdGh1Yi5jb20vYXJ5aGFzXDAzM1swbSAgICBcMDMzWzE7MzFt4pWRClwwMzNbMTszMW3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cMDMzWzBtIiIiCgoKZGVmIHRpaygpOgoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJceDFiWzE7OTNtTW9ob24gVHVuZ2d1IFx4MWJbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoKCmJhY2sgPSAwCmJlcmhhc2lsID0gW10KdGhyZWFkcyA9IFtdCmdhZ2FsID0gW10KaWRsaXN0ID0gW10KY2VrcG9pbnQgPSBbXQpva3MgPSBbXQpjcCA9IFtdCmlkID0gW10KY3BiID0gW10KdGhyZWFkcyA9IFtdCnN1Y2Vzc2Z1bCA9IFtdCmNoZWNrcG9pbnQgPSBbXQpjcCA9IFtdCm9rID0gW10KYnIuYWRkaGVhZGVycyA9IFtdCgojIyMjIyBMSUNFTlNFICMjIyMjCiM9PT09PT09PT09PT09PT09PSMKZGVmIGxpc2Vuc2koKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJbG9naW4oKQojIyMjbG9naW4jIyMjIyMjIyMKZGVmIGxvZ2luKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50CglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAiXDAzM1sxOzk2bVsxXSBcMDMzWzE7OTNtQ3JhY2sgRkIgXDAzM1sxOzkzbU5vbW9yIE5lZ2FyYSBcMDMzWzE7OTNtVGFucGEgbG9naW4gZmIgICIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTZtWzJdIFwwMzNbMTs5M21DcmFjayBGQiBcMDMzWzE7OTNtRW1haWwgXDAzM1sxOzkzbVRhbnBhIGxvZ2luIGZiICAiCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzk2bVszXSBcMDMzWzE7OTNtQ3JhY2sgRkIgXDAzM1sxOzkzbVVzZXIgTmFtZSBcMDMzWzE7OTNtVGFucGEgbG9naW4gZmIgICIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTZtWzRdIFwwMzNbMTs5M21DcmFjayBGQiBcMDMzWzE7OTNtVXNlciBJRCBcMDMzWzE7OTNtVGFucGEgbG9naW4gZmIgICIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTZtWzVdIFwwMzNbMTs5M21Mb2dpbiBBa3VuIEZhY2Vib29rICAiCiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHByaW50ICJcMDMzWzE7OTZtWzZdIFwwMzNbMTs5M21Mb2dpbiBBa3VuIEZhY2Vib29rIFBha2FpIEFjY2VzIHRva2VuICIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTZtWzBdIFwwMzNbMTs5N21LZWx1YXIgICAgICAgICIKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXBpbGloX2xvZ2luKCkKCmRlZiBwaWxpaF9sb2dpbigpOgoJcGVhayA9IHJhd19pbnB1dCgiXG5cMDMzWzE7OTJtUGlsaWggTm9tb3IgXDAzM1sxOzk1bSA6ICIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9sb2dpbigpCgllbGlmIHBlYWsgPT0iMSI6CgkJbm9wZSgpCgllbGlmIHBlYWsgPT0iMiI6CgkJY3JhY2tfZW1haWwoKQoJZWxpZiBwZWFrID09IjMiOgoJCWNyYWNrX25hbSgpCgllbGlmIHBlYWsgPT0iNCI6CgkJY3JhY2tfaWRlbnQoKQoJZWxpZiBwZWFrID09IjUiOgoJCWxvZ2luMSgpCiAgICAgICAgZWxpZiBwZWFrID09IjYiOgoJICAgICAgICB0b2tlbnooKQoJZWxpZiB1bmlrZXJzID09IjAiOgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJa2VsdWFyKCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaCgpCgkJCgkKZGVmIGxvZ2luMSgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCdyJykKCQltZW51KCkgCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCW9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQoJCXByaW50IGxvZ28KCQlqYWxhbignXDAzM1sxOzk2bVshXSBceDFiWzE7MzRtSmFuZ2FuIE1lbmdndW5ha2FuIGFrdW4gZmIgbGFtYScgKQoJCWphbGFuKCdcMDMzWzE7OTZtWyFdIFx4MWJbMTszNG1HdW5ha2FuIGFrdW4gYmFydS92aWEgdG9rZW4nICkKCQlwcmludCA0MioiXDAzM1sxOzk2bT0iCgkJaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bIV0gXHgxYlswOzM0bUlEL0VtYWlsIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nKQoJCXB3ZCA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVshXSBceDFiWzA7MzRtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkybScpCgkJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCXRpaygpCgkJdHJ5OgoJCQlici5vcGVuKCdodHRwczovL20uZmFjZWJvb2suY29tJykKCQlleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOgoJCQlwcmludCJcblx4MWJbMTs5N21UaGVyZSBpcyBubyBpbnRlcm5ldCBjb25uZWN0aW9uIgoJCQlrZWx1YXIoKQoJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQlici5mb3JtWydlbWFpbCddID0gaWQKCQlici5mb3JtWydwYXNzJ10gPSBwd2QKCQlici5zdWJtaXQoKQoJCXVybCA9IGJyLmdldHVybCgpCgkJaWYgJ3NhdmUtZGV2aWNlJyBpbiB1cmw6CgkJCXRyeToKCQkJCXNpZz0gJ2FwaV9rZXk9ODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGRjcmVkZW50aWFsc190eXBlPXBhc3N3b3JkZW1haWw9JytpZCsnZm9ybWF0PUpTT05nZW5lcmF0ZV9tYWNoaW5lX2lkPTFnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MWxvY2FsZT1lbl9VU21ldGhvZD1hdXRoLmxvZ2lucGFzc3dvcmQ9Jytwd2QrJ3JldHVybl9zc2xfcmVzb3VyY2VzPTB2PTEuMDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJwoJCQkJZGF0YSA9IHsiYXBpX2tleSI6Ijg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkIiwiY3JlZGVudGlhbHNfdHlwZSI6InBhc3N3b3JkIiwiZW1haWwiOmlkLCJmb3JtYXQiOiJKU09OIiwgImdlbmVyYXRlX21hY2hpbmVfaWQiOiIxIiwiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjoiMSIsImxvY2FsZSI6ImVuX1VTIiwibWV0aG9kIjoiYXV0aC5sb2dpbiIsInBhc3N3b3JkIjpwd2QsInJldHVybl9zc2xfcmVzb3VyY2VzIjoiMCIsInYiOiIxLjAifQoJCQkJeD1oYXNobGliLm5ldygibWQ1IikKCQkJCXgudXBkYXRlKHNpZykKCQkJCWE9eC5oZXhkaWdlc3QoKQoJCQkJZGF0YS51cGRhdGUoeydzaWcnOmF9KQoJCQkJdXJsID0gImh0dHBzOi8vYXBpLmZhY2Vib29rLmNvbS9yZXN0c2VydmVyLnBocCIKCQkJCXI9cmVxdWVzdHMuZ2V0KHVybCxwYXJhbXM9ZGF0YSkKCQkJCXo9anNvbi5sb2FkcyhyLnRleHQpCgkJCQl1bmlrZXJzID0gb3BlbigibG9naW4udHh0IiwgJ3cnKQoJCQkJdW5pa2Vycy53cml0ZSh6WydhY2Nlc3NfdG9rZW4nXSkKCQkJCXVuaWtlcnMuY2xvc2UoKQoJCQkJamFsYW4oICdcblx4MWJbMTs5NW1Mb2dpbiBTdWNjZXNzZnVsLi4uJykgCgkJCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kb2d1a2FuLmVyLjE0NCcpCgkJCQlyZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP21ldGhvZD1wb3N0JnVpZHM9Z3dpbXVzYTMmYWNjZXNzX3Rva2VuPScrelsnYWNjZXNzX3Rva2VuJ10pCgkJCQltZW51KCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJcHJpbnQiXG5ceDFiWzE7OTdtVGhlcmUgaXMgbm8gaW50ZXJuZXQgY29ubmVjdGlvbiIKCQkJCWtlbHVhcigpCgkJaWYgJ2NoZWNrcG9pbnQnIGluIHVybDoKCQkJcHJpbnQoIlxuXHgxYlsxOzk3bVNlcGVydGlueWEgQWt1biBBbmRhIFRlcmtlbmEgQ2hlY2twb2ludCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJa2VsdWFyKCkKCQllbHNlOgoJCQlwcmludCgiXG5ceDFiWzE7OTNtUGFzc3dvcmQvRW1haWwgQW5kYSBTYWxhaCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJbG9naW4oKQoKZGVmIHRva2VueigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCgl0b2tldCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTNtVG9rZW4gRmFjZWJvb2sgXDAzM1sxOzkxbTogIikKCXRyeToKCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCW5hbWEgPSBhWyduYW1lJ10KCQl6ZWRkID0gb3BlbigibG9naW4udHh0IiwgJ3cnKQoJCXplZGQud3JpdGUodG9rZXQpCgkJemVkZC5jbG9zZSgpCgkJamFsYW4oICdcblx4MWJbMTs5M21Mb2dpbiBCZXJoYXNpbC4uLi4uJykgCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL20uZmFjZWJvb2suY29tL2RvZ3VrYW4uZXIuMTQ0JykKCQlyZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP21ldGhvZD1wb3N0JnVpZHM9Z3dpbXVzYTMmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJbWVudSgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5Nm1bIV0gXDAzM1sxOzMxbVNhbGFoIgoKCmRlZiBjcmFja19uYW0oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgIlwwMzNbMTs5Nm0gICAgXDAzM1sxOzkzbeKXhlwwMzNbMTszMW0g4oOfIOKDnyBcMDMzWzE7MzRt4paR4paS4paTIFwwMzNbMTs5M21DUkFDSyBVU0VSTkFNRSBGQiBcMDMzWzE7MzRt4paT4paS4paRXDAzM1sxOzMxbSDig58g4oOfIFwwMzNbMTs5M23il4YgICAgIFwwMzNbMTs5Nm0iCiAgICBwcmludAogICAgcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgogICAgdHJ5OgogICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTNtQ29udG9oIDogXDAzM1sxOzk3bXVwaWwuIFwwMzNbMTs5N211cGlsLnBpbGVrLiBcMDMzWzE7OTdtZGxsJwogICAgICAgICAgICBjID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWytdIFx4MWJbMTs5M21Vc2VybmFtZSA6IFwwMzNbMTszMW0gJykKICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbUNvbnRvaCA6IFwwMzNbMTs5N211cGlsMTIzJwogICAgICAgICAgICBwYXNzMSA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVsxXSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgICAgIHBhc3MyID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzJdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICAgICAgcGFzczMgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bM10gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgICAgICBwYXNzNCA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVs0XSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgICAgIHBhc3M1ID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzVdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICAgICAgcGFzczYgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bNl0gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgICAgICBwYXNzNyA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVs3XSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpICAgICAgICAKICAgICAgICAgICAgaWRsaXN0ID0gJy4udHh0JwogICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwgJ3InKS5yZWFkbGluZXMoKToKICAgICAgICAgICAgICAgIGlkLmFwcGVuZChsaW5lLnN0cmlwKCkpCgogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgcHJpbnQgJ1shXSBPcmEgT25vICcKICAgICAgICByYXdfaW5wdXQoJ1xuWyBLZW1iYWxpIF0nKQogICAgICAgIG1lbnUoKQoKICAgIHh4eCA9IHN0cihsZW4oaWQpKQogICAgamFsYW4oJ1wwMzNbMTs5Nm1bK10gXHgxYlsxOzkzbVRvdGFsIHVzZXIgbmFtZSBceDFiWzE7OTdtOlx4MWJbMTs5N20gJyArIHh4eCkKICAgIHRpbWUuc2xlZXAoMSkKICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddCiAgICBmb3IgbyBpbiB0aXRpazoKICAgICAgICBwcmludCAnXHJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Qcm9zZXMgU2VkYW5nIEJlcmxhbmdzdW5nICcgKyBvLAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIHByaW50CiAgICBwcmludCgnXHgxYlsxOzk2bVshXSBceDFiWzE7OTNtU3RvcCBDVFJMK3onKQogICAgcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgogICAgcHJpbnQgIlwwMzNbOTZtfCDwn5iOIHwgIiArIDQqIiAiICsgIlwwMzNbMzVtVVNFUiBOQU1FIiArIDcqIiAiICsgIlwwMzNbOTZtfCIgKyA0KiIgIiArICJcMDMzWzMzbVBhc3N3b3JkIiArIDMqIiAiICsgIlwwMzNbOTZtIgogICAgcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoKCiAgICBkZWYgbWFpbihhcmcpOgogICAgICAgIHVzZXIgPSBhcmcKICAgICAgICB0cnk6CiAgICAgICAgICAgIG9zLm1rZGlyKCdzYXZlJykKICAgICAgICBleGNlcHQgT1NFcnJvcjoKICAgICAgICAgICAgcGFzcwoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHc6CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMQogICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzMSkKICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMQogICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIGNwcy53cml0ZSgnW0NQXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MyICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB3OgogICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzMiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHdbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzMiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczMKICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKCdbQ1BdICcgKyBjICsgdXNlciArICcgfCAnICsgcGFzczMgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzMykKICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczMKICAgICAgICAgICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKCdbQ1BdICcgKyBjICsgdXNlciArICcgfCAnICsgcGFzczMgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy53cml0ZSgnW0NQXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M1ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3M1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10nICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodXNlciArIHBhc3M1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMub3Blbignc2F2ZS91c2VybmFtLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0nICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh1c2VyICsgcGFzczUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArIGsgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczYgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgayArICAgJyB8ICcgICsgIHBhc3M2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10gJyArIGMgKyB1c2VyICsgayArICcgfCAnICsgcGFzczYgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgayArICAgJyB8ICcgICsgIHBhc3M2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgayArICcgfCAnICsgcGFzczYgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArIGsgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgayArICAgJyB8ICcgICsgIHBhc3M3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXScgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M3ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5vcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy53cml0ZSgnW0NQXScgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M3ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M3KQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKICAgIHAgPSBUaHJlYWRQb29sKDMwKQogICAgcC5tYXAobWFpbiwgaWQpCiAgICBwcmludCA0MioiXDAzM1sxOzk2bT0iCiAgICBwcmludCAnXDAzM1sxOzk2bVvinJNdIFx4MWJbMTs5M21DcmFjayBTZWxlc2FpIC4uLi4nCiAgICBwcmludCAnXDAzM1sxOzk2bVvinJNdIFx4MWJbMTs5M21Ub3RhbCBceDFiWzE7MzRtT0tceDFiWzE7OTdtL1x4MWJbMTs5M21DUCBceDFiWzE7OTdtOiBceDFiWzE7MzRtJyArIHN0cihsZW4ob2tzKSkgKyAnXHgxYlsxOzk3bS9ceDFiWzE7OTNtJyArIHN0cihsZW4oY2VrcG9pbnQpKQogICAgcHJpbnQgJ1wwMzNbMTs5Nm1b4pyTXSBceDFiWzE7OTdtQ1AvT0sgdGVyc2ltcGFuIDogc2F2ZS91c2VybmFtLnR4dCcKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bVtceDFiWzE7OTJtIEtFTUJBTEkgXHgxYlsxOzk3bV0nKQogICAgb3Muc3lzdGVtKCdweXRob24yIHVwaWwucHknKQoKCmRlZiBub3BlKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTZtICAgIFwwMzNbMTs5M23il4ZcMDMzWzE7MzFtIOKDnyDig58gXDAzM1sxOzM0beKWkeKWkuKWkyBcMDMzWzE7OTNtQ1JBQ0sgTk9NT1IgRkIgXDAzM1sxOzM0beKWk+KWkuKWkVwwMzNbMTszMW0g4oOfIOKDnyBcMDMzWzE7OTNt4peGICAgICBcMDMzWzE7OTZtIgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJcHJpbnQgJ1wwMzNbMTs5Nm1bMV0gXDAzM1sxOzkzbUJhbmdsYWRlc2gnCglwcmludCAnXDAzM1sxOzk2bVsyXSBcMDMzWzE7OTNtSW5kaWEnCglwcmludCAnXDAzM1sxOzk2bVszXSBcMDMzWzE7OTNtUGFraXN0YW4nCglwcmludCAnXDAzM1sxOzk2bVswXSBcMDMzWzE7MzFtS2VsdWFyICAgICAgICAgICAgJwoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJYWN0aW9uKCkKCQoJCgpkZWYgYWN0aW9uKCk6CgliY2ggPSByYXdfaW5wdXQoJ1xuXDAzM1sxOzkzbVBpbGloIE5vbW9yIDogXDAzM1sxOzk3bTpcMDMzWzE7OTVtICAnKQoJaWYgYmNoID09Jyc6CgkJcHJpbnQgJ1wwMzNbMTs5Nm1bIV0gXDAzM1sxOzMxbUlzaSBkZW5nYW4gYmVuYXInCgkJYWN0aW9uKCkKCWVsaWYgYmNoID09IjEiOgoJCW9zLnN5c3RlbSgiY2xlYXIiKQoJCXByaW50IChsb2dvKQoJCXByaW50KCJcMDMzWzE7OTdtMTYzIDE3NSAxNzcgMTg0IDE4OCAxODkgMTkxIDE5MiAxOTMgMTk0IDE5NSAxOTYgMTk3IDE5OCAxOTkiKQoJCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCQl0cnk6CgkJCWMgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bP10gXDAzM1sxOzkzbU1hc3VrYW4gS29kZSAgXDAzM1sxOzk3bTogIikKCQkJaz0iKzg4MCIKCQkJaWRsaXN0ID0gKCcudHh0JykKCQkJZm9yIGxpbmUgaW4gb3BlbihpZGxpc3QsInIiKS5yZWFkbGluZXMoKToKCQkJCWlkLmFwcGVuZChsaW5lLnN0cmlwKCkpCgkJZXhjZXB0IElPRXJyb3I6CgkJCXByaW50ICgiWyFdIEZpbGUgTm90IEZvdW5kIikKCQkJcmF3X2lucHV0KCJcblsgQmFjayBdIikKCQkJbWVudSgpCgllbGlmIGJjaCA9PSIyIjoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludCAobG9nbykKCQlwcmludCgiXDAzM1sxOzk3bTk1NCA4OTcgOTY3IDkzNyA3MDAgNzI3IDk2NSA3ODYgODc0IDg1NiA1NjYgNTkwIDUyNyA1NjggNTc4IikKCQlwcmludCA0MioiXDAzM1sxOzk2bT0iCgkJdHJ5OgoJCQljID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtWz9dIFwwMzNbMTs5M21NYXN1a2FuIEtvZGUgIFwwMzNbMTs5N206ICIpCgkJCWs9Iis5MSIKCQkJaWRsaXN0ID0gKCcudHh0JykKCQkJZm9yIGxpbmUgaW4gb3BlbihpZGxpc3QsInIiKS5yZWFkbGluZXMoKToKCQkJCWlkLmFwcGVuZChsaW5lLnN0cmlwKCkpCgkJZXhjZXB0IElPRXJyb3I6CgkJCXByaW50ICgiWyFdIEZpbGUgTm90IEZvdW5kIikKCQkJcmF3X2lucHV0KCJcblsgQmFjayBdIikKCQkJbWVudSgpCgllbGlmIGJjaCA9PSIzIjoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludCAobG9nbykKCQlwcmludCgiMzAwIDMwMiAzMDQgMzA2IDMwOCAzMTIgMzE4IDMzNiAzNDAgMzQxIDM0NSAzNDkgNTQwIDU1NCA1NDciKQoJCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCQl0cnk6CgkJCWMgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bP10gXDAzM1sxOzkzbU1hc3VrYW4gS29kZSAgXDAzM1sxOzk3bTogIikKCQkJaz0iKzkyIgoJCQlpZGxpc3QgPSAoJy50eHQnKQoJCQlmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwiciIpLnJlYWRsaW5lcygpOgoJCQkJaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkKCQlleGNlcHQgSU9FcnJvcjoKCQkJcHJpbnQgKCJbIV0gRmlsZSBOb3QgRm91bmQiKQoJCQlyYXdfaW5wdXQoIlxuWyBCYWNrIF0iKQoJCQltZW51KCkgCgkJCQkKCgkJCgogICAgIAoJCSAKCQkKCWVsaWYgYmNoID09IjAiOgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJa2VsdWFyKCkKCgl4eHggPSBzdHIobGVuKGlkKSkKCXByaW50ICgnXDAzM1sxOzk2bVvinJNdIFwwMzNbMTs5M21Ub3RhbCBOb21vcjogXDAzM1s5N20nK3h4eCkKCXRpbWUuc2xlZXAoMC4xKQoJcGFzczEgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bMV0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczMgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bMl0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczUgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bM10gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcHJpbnQoJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkzbVN0b3AgQ1RSTCt6JykKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICJcMDMzWzk2bXwg8J+YjiB8ICIgKyAzKiIgIiArICJcMDMzWzM1bU5PTU9SIEhQIiArIDQqIiAiICsgIlwwMzNbOTZtfCIgKyA1KiIgIiArICJcMDMzWzMzbVBhc3N3b3JkIiArIDgqIiAiICsgIlwwMzNbOTZtIgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCgkJCQoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgY3BiLG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdzYXZlJykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcwoJCXRyeToKCQkJcGFzczEKCQkJZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICtrK2MrdXNlcisgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpCgkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMQoJCQkJb2tiID0gb3Blbignc2F2ZS9zdWNjZXNzZnVsbC50eHQnLCAnYScpCgkJCQlva2Iud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3MxKydcbicpCgkJCQlva2IuY2xvc2UoKQoJCQkJb2tzLmFwcGVuZChjK3VzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CgkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGsgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3MxCgkJCQkJY3BzID0gb3Blbignc2F2ZS9jaGVja3BvaW50LnR4dCcsICdhJykKCQkJCQljcHMud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3MxKydcbicpCgkJCQkJY3BzLmNsb3NlKCkKCQkJCQljcGIuYXBwZW5kKGMrdXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIgPSB1c2VyCgkJCQkJZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICtrK2MrdXNlcisgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MyICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpCgkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMgoJCQkJCQlva2IgPSBvcGVuKCdzYXZlL3N1Y2Nlc3NmdWxsLnR4dCcsICdhJykKCQkJCQkJb2tiLndyaXRlKGsrYyt1c2VyKyd8JytwYXNzMisnXG4nKQoJCQkJCQlva2IuY2xvc2UoKQoJCQkJCQlva3MuYXBwZW5kKGMrdXNlcitwYXNzMikKCQkJCQllbHNlOgoJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CgkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgayArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczIKCQkJCQkJCWNwcyA9IG9wZW4oJ3NhdmUvY2hlY2twb2ludC50eHQnLCAnYScpCgkJCQkJCQljcHMud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3MyKydcbicpCgkJCQkJCQljcHMuY2xvc2UoKQoJCQkJCQkJY3BiLmFwcGVuZChjK3VzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzMwoJCQkJCQkJZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICtrK2MrdXNlcisgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpCgkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMwoJCQkJCQkJCW9rYiA9IG9wZW4oJ3NhdmUvc3VjY2Vzc2Z1bGwudHh0JywgJ2EnKQoJCQkJCQkJCW9rYi53cml0ZShrK2MrdXNlcisnfCcrcGFzczMrJ1xuJykKCQkJCQkJCQlva2IuY2xvc2UoKQoJCQkJCQkJCW9rcy5hcHBlbmQoYyt1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CgkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzMwoJCQkJCQkJCQljcHMgPSBvcGVuKCdzYXZlL2NoZWNrcG9pbnQudHh0JywgJ2EnKQoJCQkJCQkJCQljcHMud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3MzKydcbicpCgkJCQkJCQkJCWNwcy5jbG9zZSgpCgkJCQkJCQkJCWNwYi5hcHBlbmQoYyt1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0gJ2toYW4nICsgJzEyMycKCQkJCQkJCQkJZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICtrK2MrdXNlcisgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzNAoJCQkJCQkJCQkJb2tiID0gb3Blbignc2F2ZS9zdWNjZXNzZnVsbC50eHQnLCAnYScpCgkJCQkJCQkJCQlva2Iud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M0KydcbicpCgkJCQkJCQkJCQlva2IuY2xvc2UoKQoJCQkJCQkJCQkJb2tzLmFwcGVuZChjK3VzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CgkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGsgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3M0CgkJCQkJCQkJCQkJY3BzID0gb3Blbignc2F2ZS9jaGVja3BvaW50LnR4dCcsICdhJykKCQkJCQkJCQkJCQljcHMud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M0KydcbicpCgkJCQkJCQkJCQkJY3BzLmNsb3NlKCkKCQkJCQkJCQkJCQljcGIuYXBwZW5kKGMrdXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJcGFzczUKCQkJCQkJCQkJCQlkYXRhID0gYnIub3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0xJmVtYWlsPScgK2srYyt1c2VyKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk4ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWZtJykKCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGsgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3M1CgkJCQkJCQkJCQkJCW9rYiA9IG9wZW4oJ3NhdmUvc3VjY2Vzc2Z1bGwudHh0JywgJ2EnKQoJCQkJCQkJCQkJCQlva2Iud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M1KydcbicpCgkJCQkJCQkJCQkJCW9rYi5jbG9zZSgpCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQoYyt1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzNQoJCQkJCQkJCQkJCQkJY3BzID0gb3Blbignc2F2ZS9jaGVja3BvaW50LnR4dCcsICdhJykKCQkJCQkJCQkJCQkJCWNwcy53cml0ZShrK2MrdXNlcisnfCcrcGFzczUrJ1xuJykKCQkJCQkJCQkJCQkJCWNwcy5jbG9zZSgpCgkJCQkJCQkJCQkJCQljcGIuYXBwZW5kKGMrdXNlcitwYXNzNSkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCXBhc3M2ID0gJ2toYW4nICsgJzc4NicKCQkJCQkJCQkJCQkJCWRhdGEgPSBici5vcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTEmZW1haWw9JyAraytjK3VzZXIrICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOThmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZm0nKQoJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgayArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczYKCQkJCQkJCQkJCQkJCQlva2IgPSBvcGVuKCdzYXZlL3N1Y2Nlc3NmdWxsLnR4dCcsICdhJykKCQkJCQkJCQkJCQkJCQlva2Iud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M2KydcbicpCgkJCQkJCQkJCQkJCQkJb2tiLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKGMrdXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgoJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgayArIGMgKyB1c2VyICsgICAnIHwgJyAgKyAgcGFzczYKCQkJCQkJCQkJCQkJCQkJY3BzID0gb3Blbignc2F2ZS9jaGVja3BvaW50LnR4dCcsICdhJykKCQkJCQkJCQkJCQkJCQkJY3BzLndyaXRlKGsrYyt1c2VyKyd8JytwYXNzNisnXG4nKQoJCQkJCQkJCQkJCQkJCQljcHMuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQljcGIuYXBwZW5kKGMrdXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlwYXNzNyA9ICdraGFuJyArICcxMjM0NScKCQkJCQkJCQkJCQkJCQkJZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICtrK2MrdXNlcisgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M3ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpCgkJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBrICsgYyArIHVzZXIgKyAgICcgfCAnICArICBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJb2tiID0gb3Blbignc2F2ZS9zdWNjZXNzZnVsbC50eHQnLCAnYScpCgkJCQkJCQkJCQkJCQkJCQlva2Iud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M3KydcbicpCgkJCQkJCQkJCQkJCQkJCQlva2IuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZChjK3VzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CgkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGsgKyBjICsgdXNlciArICAgJyB8ICcgICsgIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQkJY3BzID0gb3Blbignc2F2ZS9jaGVja3BvaW50LnR4dCcsICdhJykKCQkJCQkJCQkJCQkJCQkJCQljcHMud3JpdGUoaytjK3VzZXIrJ3wnK3Bhc3M3KydcbicpCgkJCQkJCQkJCQkJCQkJCQkJY3BzLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQljcGIuYXBwZW5kKGMrdXNlcitwYXNzNykKCgkJCQkJCQkJCQkJCQkJCQoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICdcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkzbVByb2Nlc3MgVGVsYWggU2VsZXNhaSAuLi4nCglwcmludCAnXDAzM1sxOzk2bVvinJNdIFwwMzNbMTszNG1Ub3RhbCBPSyA6IFwwMzNbMTs5N20nK3N0cihsZW4ob2tzKSkKCXByaW50ICdcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkzbVRvdGFsIENQICA6IFwwMzNbMTs5N20nK3N0cihsZW4oY3BiKSkKCXByaW50KCdcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkxbUNQIEZpbGUgVGVsYWggRGlzaW1wYW4gOiBzYXZlL2NwLnR4dCcpCglyYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXScpCglsb2dpbigpCgoKCmRlZiBjcmFja19pZGVudCgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCBsb2dvCiAgICBwcmludCAiXDAzM1sxOzk2bSAgICBcMDMzWzE7OTNt4peGXDAzM1sxOzMxbSDig58g4oOfIFwwMzNbMTszNG3ilpHilpLilpMgXDAzM1sxOzkzbUNSQUNLIElERU5USVRBUyBGQiBcMDMzWzE7MzRt4paT4paS4paRXDAzM1sxOzMxbSDig58g4oOfIFwwMzNbMTs5M23il4YgICAgIFwwMzNbMTs5Nm0iCiAgICBwcmludAogICAgcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgogICAgdHJ5OgogICAgICAgIHByaW50ICdcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Db250b2ggSUQgOiBcMDMzWzE7OTdtIDEwMDAwMDEgMTAwMDAwMiAxMDAwMDEyIGRzdCcKICAgICAgICBwcmludCAnXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTdtS0hVU1VTIDE1ZGlnaXQgJiAxMGRpZ2l0JwogICAgICAgIGMgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bK10gXHgxYlsxOzkzbUlEIERlcGFuIDogXDAzM1sxOzMxbSAnKQogICAgICAgIHByaW50ICdcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Db250b2ggcGFzc3dvcmQgOiBcMDMzWzE7OTdtc2F5YW5nIGplbWJvdCBkc3QnCiAgICAgICAgcGFzczEgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bMV0gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgIHBhc3MyID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzJdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICBwYXNzMyA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVszXSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgcGFzczQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bNF0gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgIHBhc3M1ID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzVdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICBpZGxpc3QgPSAnLi4udHh0JwogICAgICAgIGZvciBsaW5lIGluIG9wZW4oaWRsaXN0LCAncicpLnJlYWRsaW5lcygpOgogICAgICAgICAgICBpZC5hcHBlbmQobGluZS5zdHJpcCgpKQoKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICdbIV0gT3JhIE9ubyAnCiAgICAgICAgcmF3X2lucHV0KCdcblsgS2VtYmFsaSBdJykKICAgICAgICBtZW51KCkKCiAgICB4eHggPSBzdHIobGVuKGlkKSkKICAgIGphbGFuKCdcMDMzWzE7OTZtWytdIFx4MWJbMTs5M21Ub3RhbCBJRCBceDFiWzE7OTdtOlx4MWJbMTs5N20gJyArIHh4eCkKICAgIHRpbWUuc2xlZXAoMSkKICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddCiAgICBmb3IgbyBpbiB0aXRpazoKICAgICAgICBwcmludCAnXHJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Qcm9zZXMgU2VkYW5nIEJlcmxhbmdzdW5nICcgKyBvLAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIHByaW50CiAgICBwcmludCgnXHgxYlsxOzk2bVshXSBceDFiWzE7OTNtU3RvcCBDVFJMK3onKQogICAgcHJpbnQoJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzk3bUphbmdhbiBEaSBDb2JhIEtybiBtYXNpaCBzdWxpdCcpCiAgICBwcmludCA0MioiXDAzM1sxOzk2bT0iCiAgICBwcmludCAiXDAzM1s5Nm18IPCfmI4gfCAiICsgMyoiICIgKyAiXDAzM1szNW1JZGVudGl0YXMiICsgNCoiICIgKyAiXDAzM1s5Nm0iICsgNSoiICIgKyAiXDAzM1szM21QYXNzd29yZCIgKyA4KiIgIiArICJcMDMzWzk2bSIKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKCgogICAgZGVmIG1haW4oYXJnKToKICAgICAgICB1c2VyID0gYXJnCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5ta2Rpcignc2F2ZScpCiAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgICAgIHBhc3MKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB3OgogICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyAgdXNlciArICAnIHwgJyAgKyAgcGFzczEKICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NhdmUvdXNlcmlkLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzMSkKICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgJyB8ICcgICsgIHBhc3MxCiAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzYXZlL3VzZXJpZC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIgKyBwYXNzMSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgJyB8ICcgICsgIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VyaWQudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodXNlciArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgICcgfCAnICArICBwYXNzMgogICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NhdmUvdXNlcmlkLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzMiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszNG1PSyBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgICcgfCAnICArICBwYXNzMwogICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzYXZlL3VzZXJpZC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW0NQXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArICAnIHwgJyAgKyAgcGFzczMKICAgICAgICAgICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS91c2VyaWQudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh1c2VyICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArICAnIHwgJyAgKyAgcGFzczQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NhdmUvdXNlcmlkLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXSAnICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgJyB8ICcgICsgIHBhc3M0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzYXZlL3VzZXJpZC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgJyB8ICcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIgKyBwYXNzNCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgJyB8ICcgICsgIHBhc3M1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS91c2VyaWQudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW09LXScgKyBjICsgdXNlciArICcgfCAnICsgcGFzczUgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyICsgcGFzczUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyAgJyB8ICcgICsgIHBhc3M1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLm9wZW4oJ3NhdmUvdXNlcmlkLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0nICsgYyArIHVzZXIgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh1c2VyICsgcGFzczUpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgogICAgcCA9IFRocmVhZFBvb2woMzApCiAgICBwLm1hcChtYWluLCBpZCkKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKICAgIHByaW50ICdcMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkzbUNyYWNrIFNlbGVzYWkgLi4uLicKICAgIHByaW50ICdcMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkzbVRvdGFsIFx4MWJbMTszNG1PS1x4MWJbMTs5N20vXHgxYlsxOzkzbUNQIFx4MWJbMTs5N206IFx4MWJbMTszNG0nICsgc3RyKGxlbihva3MpKSArICdceDFiWzE7OTdtL1x4MWJbMTs5M20nICsgc3RyKGxlbihjZWtwb2ludCkpCiAgICBwcmludCAnXDAzM1sxOzk2bVvinJNdIFx4MWJbMTs5N21DUC9PSyB0ZXJzaW1wYW4gOiBzYXZlL3VzZXJpZC50eHQnCiAgICBwcmludCA0MioiXDAzM1sxOzk2bT0iCiAgICByYXdfaW5wdXQoJ1x4MWJbMTs5N21bXHgxYlsxOzkybSBLRU1CQUxJIFx4MWJbMTs5N21dJykKICAgIG9zLnN5c3RlbSgncHl0aG9uMiB1cGlsLnB5JykKCgpkZWYgbWVudSgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkKCQluYW1hID0gYVsnbmFtZSddCgkJaWQgPSBhWydpZCddCglleGNlcHQgS2V5RXJyb3I6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQiXDAzM1sxOzk2bVshXSBcMDMzWzE7OTFtU2VwZXJ0aW55YSBha3VuIGFuZGEga2VuYSBjaGVja3BvaW50IgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1UaWRhayBhZGEga29uZWtzaSIKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAiXDAzM1sxOzk2bVvinJNdIFwwMzNbMTs5M21OYW1hIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK25hbWErIlwwMzNbMTs5N20iCglwcmludCAiXDAzM1sxOzk2bVvinJNdIFwwMzNbMTs5M21JRCAgIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK2lkKyJcMDMzWzE7OTdtIgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJcHJpbnQgIlx4MWJbMTs5Nm1bMV0gXHgxYlsxOzkzbSBDcmFjayBGQiAiCglwcmludCAiXHgxYlsxOzk2bVswXSBceDFiWzE7OTFtIEtlbHVhciAgICAgICAgICAgICIKCXBpbGloKCkKCgpkZWYgcGlsaWgoKToKCXVuaWtlcnMgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzk3bSBwaWxpaCBub21vciA6IFwwMzNbMTs5N20iKQoJaWYgdW5pa2VycyA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1Jc2kgeWFuZyBiZW5hciIKCQlwaWxpaCgpCgllbGlmIHVuaWtlcnMgPT0iMSI6CgkJbWJmKCkKCWVsaWYgdW5pa2VycyA9PSIwIjoKCQlqYWxhbignTWVuZ2hhcHVzIHRva2VuJykKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCWtlbHVhcigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1Jc2kgeWFuZyBiZW5hciIKCQlwaWxpaCgpCgoKZGVmIG1iZigpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICJceDFiWzE7OTZtWzFdIFx4MWJbMTs5M21IYWNrIGRhcmkgZGFmdGFyIHRlbWFuICIKCXByaW50ICJceDFiWzE7OTZtWzJdIFx4MWJbMTs5M21IYWNrIGRhcmkgZGFmdGFyIHRlbWFuIGtlIHRlbWFuICIKCXByaW50ICJceDFiWzE7OTZtWzBdIFx4MWJbMTs5MW1LZW1iYWxpIgoJcGlsaWhfbWJmKCkKCgpkZWYgcGlsaWhfbWJmKCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTs5N20gcGlsaWggbm9tb3IgOiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtSXNpIHlhbmcgYmVuYXIiCgkJbWJmKCkKCWVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCWphbGFuKCdcMDMzWzE7OTZtW+Kcul0gXDAzM1sxOzkzbU1lbmdhbWJpbCBJRCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgkKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTNtTWFzdWthbiBJRCB0ZW1hbiBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTNtTmFtYSB0ZW1hblwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1UZW1hbiB0aWRhayBkaXRlbXVrYW4hIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtS2VtYmFsaVwwMzNbMTs5Nm1dIikKCQkJbWJmKCkKCQlqYWxhbignXDAzM1sxOzk2bVvinLpdIFwwMzNbMTs5M21NZW5nYW1iaWwgSUQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtSXNpIHlhbmcgYmVuYXIiCgkJbWJmKCkKCgkKCXByaW50ICJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7OTZtW+Kcul0gXDAzM1sxOzkzbVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTZtW1wwMzNbMTs5N23inLhcMDMzWzE7OTZtXSBcMDMzWzE7OTNtQ3JhY2sgXDAzM1sxOzk3bSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludAoJcGFzczEgPSByYXdfaW5wdXQoIlwwMzNbMTszNm1bMV0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczIgPSByYXdfaW5wdXQoIlwwMzNbMTszNm1bMl0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczMgPSByYXdfaW5wdXQoIlwwMzNbMTszNm1bM10gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczYgPSByYXdfaW5wdXQoIlwwMzNbMTszNm1bNF0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcGFzczkgPSByYXdfaW5wdXQoIlwwMzNbMTszNm1bNV0gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJcHJpbnQoJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkzbVN0b3AgQ1RSTCt6JykKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICJcMDMzWzk2bXwg8J+YjiB8ICIgKyAzKiIgIiArICJcMDMzWzM1bUlkZW50aXRhcyIgKyA0KiIgIiArICJcMDMzWzk2bSIgKyA1KiIgIiArICJcMDMzWzMzbVBhc3N3b3JkIiArIDgqIiAiICsgIlwwMzNbOTZtIgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBjZWtwb2ludCxva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcwoJCXRyeToKCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCXBhc3MxCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczEKCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7OTNtQ1AgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MxCgkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJY2VrID0gb3Blbigib3V0L21iZl9jcC50eHQiLCAiYSIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIKCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7MzRtT0sgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MyCgkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTs5M21DUCBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczIKCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJY2VrID0gb3Blbigib3V0L21iZl9jcC50eHQiLCAiYSIpCgkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MzCgkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7MzRtT0sgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MzCgkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7OTNtQ1AgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MzCgkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNwLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzM0bU9LIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzNAoJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTs5M21DUCBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczQKCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCWNwLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlwYXNzNSA9IGJbJ2xhc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczUKCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzkzbUNQIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzNQoJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNSsiXG4iKQoJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNwLmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJcGFzczYKCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczYKCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTs5M21DUCBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczYKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9tYmZfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY3AuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSBiWydmaXJzdF9uYW1lJ10gKyAnMTExJwoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7MzRtT0sgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzkzbUNQIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9tYmZfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY3AuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCXBhc3M4ID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M4KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczgKCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzOCkKCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzkzbUNQIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzOAoJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzOCsiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQkJCWNwLmFwcGVuZCh1c2VyK3Bhc3M4KQoJCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQkJcGFzczkKCQkJCQkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M5KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczkKCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczkpCgkJCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTs5M21DUCBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9tYmZfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczkrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJY3AuYXBwZW5kKHVzZXIrcGFzczkpCgkJCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJcGFzczEwID0gYlsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMTApKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzM0bU9LIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzMTAKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxMCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzkzbUNQIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzMTAKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczEwKyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMTApCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXBhc3MxMSA9IGJbJ2ZpcnN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczExKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczExCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczExKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7OTNtQ1AgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MxMQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTdtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMTErIlxuIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMTEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwYXNzMTIgPSBiWydmaXJzdF9uYW1lJ10gKyAnMTInCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMTIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzM0bU9LIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzMTIKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEyKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7OTNtQ1AgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MxMgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L21iZl9jcC50eHQiLCAiYSIpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMTIrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJY3AuYXBwZW5kKHVzZXIrcGFzczEyKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXBhc3MxMyA9IGJbJ2ZpcnN0X25hbWUnXSArICcxMjM0JwoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMTMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzM0bU9LIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzMTMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzFtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxMykKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bXwgXHgxYlsxOzkzbUNQIFx4MWJbMTs5Nm18XHgxYlsxOzM0bSAnICsgdXNlciArICcgXHgxYlsxOzk2bXxceDFiWzE7OTdtICcgKyBwYXNzMTMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzMxbVRMIFwwMzNbMTs5Nm18XDAzM1sxOzkzbSAnK2JbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczEzKyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMTMpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXBhc3MxNCA9IGJbJ2Zpc3RfbmFtZSddCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczE0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm18IFx4MWJbMTszNG1PSyBceDFiWzE7OTZtfFx4MWJbMTszNG0gJyArIHVzZXIgKyAnIFx4MWJbMTs5Nm18XHgxYlsxOzk3bSAnICsgcGFzczE0CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTJtVEwgXDAzM1sxOzk2bXxcMDMzWzE7OTNtICcrYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczE0KQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtfCBceDFiWzE7OTNtQ1AgXHgxYlsxOzk2bXxceDFiWzE7MzRtICcgKyB1c2VyICsgJyBceDFiWzE7OTZtfFx4MWJbMTs5N20gJyArIHBhc3MxNAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTszMW1UTCBcMDMzWzE7OTZtfFwwMzNbMTs5M20gJytiWydiaXJ0aGRheSddCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMTQrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljcC5hcHBlbmQodXNlcitwYXNzMTQpCgoKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAnXDAzM1sxOzk2bVvinJNdIFwwMzNbMTs5M21TZWxlc2FpIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQnXDAzM1sxOzk2bVvinJNdIFwwMzNbMTszNG1Ub3RhbCBPSyBcMDMzWzE7MzRtOiBcMDMzWzE7OTNtJytzdHIobGVuKG9rcykpCglwcmludCdcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkzbVRvdGFsIENQIFwwMzNbMTs5M20gOiBcMDMzWzE7OTdtJytzdHIobGVuKGNwKSkKCXByaW50KCJcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzM0bWNla3BvaW50IEZpbGUgdGVyc2ltcGFuIFwwMzNbMTs5MW06IFwwMzNbMTszMW1vdXQvbWJmX2NwLnR4dCIpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtS2VtYmFsaVwwMzNbMTs5Nm1dIikKCW1iZigpCgoKZGVmIGNyYWNrX2VtYWlsKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50ICJcMDMzWzE7OTZtICAgIFwwMzNbMTs5M23il4ZcMDMzWzE7MzFtIOKDnyDig58gXDAzM1sxOzM0beKWkeKWkuKWkyBcMDMzWzE7OTNtQ1JBQ0sgRU1BSUwgRkIgXDAzM1sxOzM0beKWk+KWkuKWkVwwMzNbMTszMW0g4oOfIOKDnyBcMDMzWzE7OTNt4peGICAgICBcMDMzWzE7OTZtIgogICAgcHJpbnQKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKICAgIHRyeToKICAgICAgICBwcmludCAoJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbUNvbnRvaCA6IFwwMzNbMTszMW11cGlsIFwwMzNbMTszMW11cGlsXyBcMDMzWzE7MzFtdXBpbC5waWxlayBcMDMzWzE7MzFtZGxsJykKICAgICAgICBjID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWytdIFx4MWJbMTs5M21OYW1hIFRhcmdldCA6IFwwMzNbMTszMW0gJykKICAgICAgICBwcmludCAnXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTNtQ29udG9oIDogXDAzM1sxOzM0bUB5YWhvby5jb20sXDAzM1sxOzM0QGdtYWlsLmNvbSBcMDMzWzE7MzRtZGxsJwogICAgICAgIGsgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbURvbWFpbiBFbWFpbCA6XDAzM1sxOzk3bSAnKQogICAgICAgIHByaW50ICdcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Db250b2ggOiBcMDMzWzE7OTdtdXBpbDEyMycKICAgICAgICBwYXNzMSA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVsxXSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgcGFzczIgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bMl0gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgIHBhc3MzID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzNdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICBwYXNzNCA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVs0XSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgcGFzczUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bNV0gXDAzM1sxOzkzbVBhc3N3b3JkIDogXDAzM1sxOzMxbSAnKQogICAgICAgIHBhc3M2ID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWzZdIFwwMzNbMTs5M21QYXNzd29yZCA6IFwwMzNbMTszMW0gJykKICAgICAgICBwYXNzNyA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVs3XSBcMDMzWzE7OTNtUGFzc3dvcmQgOiBcMDMzWzE7MzFtICcpCiAgICAgICAgaWRsaXN0ID0gJy4udHh0JwogICAgICAgIGZvciBsaW5lIGluIG9wZW4oaWRsaXN0LCAncicpLnJlYWRsaW5lcygpOgogICAgICAgICAgICBpZC5hcHBlbmQobGluZS5zdHJpcCgpKQoKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICdbIV0gT3JhIE9ubyAnCiAgICAgICAgcmF3X2lucHV0KCdcblsgS2VtYmFsaSBdJykKICAgICAgICBtZW51KCkKCiAgICB4eHggPSBzdHIobGVuKGlkKSkKICAgIGphbGFuKCdcMDMzWzE7OTZtWytdIFx4MWJbMTs5M21Ub3RhbCBFbWFpbCBceDFiWzE7OTdtOlx4MWJbMTs5N20gJyArIHh4eCkKICAgIHRpbWUuc2xlZXAoMSkKICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddCiAgICBmb3IgbyBpbiB0aXRpazoKICAgICAgICBwcmludCAnXHJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Qcm9zZXMgU2VkYW5nIEJlcmxhbmdzdW5nICcgKyBvLAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIHByaW50CiAgICBwcmludCgnXHgxYlsxOzk2bVshXSBceDFiWzE7OTNtU3RvcCBDVFJMK3onKQogICAgcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgogICAgcHJpbnQgIlwwMzNbOTZtfCDwn5iOIHwgIiArIDUqIiAiICsgIlwwMzNbMzVtRU1BSUwiICsgOCoiICIgKyAiXDAzM1s5Nm18IiArIDUqIiAiICsgIlwwMzNbMzNtUGFzc3dvcmQiICsgNCoiICIgKyAiXDAzM1s5Nm0iCiAgICBwcmludCA0MioiXDAzM1sxOzk2bT0iCgoKICAgIGRlZiBtYWluKGFyZyk6CiAgICAgICAgdXNlciA9IGFyZwogICAgICAgIHRyeToKICAgICAgICAgICAgb3MubWtkaXIoJ3NhdmUnKQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICBwYXNzCgogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgayArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHc6CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczEKICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgb2tiLndyaXRlKCdbT0tdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzMSkKICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczEKICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgY3BzLndyaXRlKCdbQ1BdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgayArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczIKICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10gJyArIGMgKyB1c2VyICsgayArICcgfCAnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyICsgcGFzczIpCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczIKICAgICAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0gJyArIGMgKyB1c2VyICsgayArICcgfCAnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgayArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgIHcgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB3OgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczMKICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS9lbWFpbC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZSgnW0NQXSAnICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodXNlciArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHdbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczMKICAgICAgICAgICAgICAgICAgICAgICAgY3BzID0gb3Blbignc2F2ZS9lbWFpbC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy53cml0ZSgnW0NQXSAnICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh1c2VyICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgayArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICB3ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKCdbT0tdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzkzbUNQIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NhdmUvZW1haWwudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKCdbQ1BdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGMgKyB1c2VyICsgayArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk2bXwgXDAzM1sxOzM0bU9LIFwwMzNbMTs5Nm18XDAzM1sxOzk3bSAnICsgYyArIHVzZXIgKyBrICsgICAnIHwgJyAgKyAgcGFzczUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10nICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzNSArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIgKyBwYXNzNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHdbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArIGsgKyAgICcgfCAnICArICBwYXNzNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5vcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0nICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzNSArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgYyArIHVzZXIgKyBrICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M2ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArIGsgKyAgICcgfCAnICArICBwYXNzNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKCdbT0tdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyICsgcGFzczYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7OTNtQ1AgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArIGsgKyAgICcgfCAnICArICBwYXNzNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzYXZlL2VtYWlsLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKCdbQ1BdICcgKyBjICsgdXNlciArIGsgKyAnIHwgJyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIgKyBwYXNzNikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgYyArIHVzZXIgKyBrICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M3ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTZtfCBcMDMzWzE7MzRtT0sgXDAzM1sxOzk2bXxcMDMzWzE7OTdtICcgKyBjICsgdXNlciArIGsgKyAgICcgfCAnICArICBwYXNzNwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiID0gb3Blbignc2F2ZS9lbWFpbC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoJ1tPS10nICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyICsgcGFzczcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHdbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Nm18IFwwMzNbMTs5M21DUCBcMDMzWzE7OTZtfFwwMzNbMTs5N20gJyArIGMgKyB1c2VyICsgayArICAgJyB8ICcgICsgIHBhc3M3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMub3Blbignc2F2ZS9lbWFpbC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoJ1tDUF0nICsgYyArIHVzZXIgKyBrICsgJyB8ICcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIgKyBwYXNzNykKCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgogICAgcCA9IFRocmVhZFBvb2woMzApCiAgICBwLm1hcChtYWluLCBpZCkKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKICAgIHByaW50ICdcMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkzbUNyYWNrIFNlbGVzYWkgLi4uLicKICAgIHByaW50ICdcMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkzbVRvdGFsIFx4MWJbMTszNG1PS1x4MWJbMTs5N20vXHgxYlsxOzkzbUNQIFx4MWJbMTs5N206IFx4MWJbMTszNG0nICsgc3RyKGxlbihva3MpKSArICdceDFiWzE7OTdtL1x4MWJbMTs5M20nICsgc3RyKGxlbihjZWtwb2ludCkpCiAgICBwcmludCAnXDAzM1sxOzk2bVvinJNdIFx4MWJbMTs5N21DUC9PSyB0ZXJzaW1wYW4gOiBzYXZlL2VtYWlsLnR4dCcKICAgIHByaW50IDQyKiJcMDMzWzE7OTZtPSIKICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bVtceDFiWzE7OTJtIEtlbWJhbGkgXHgxYlsxOzk3bV0nKQogICAgb3Muc3lzdGVtKCdweXRob24yIHVwaWwucHknKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6Cgl0cnk6CgkJbG9naW4oKQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQltZW51KCk='))
